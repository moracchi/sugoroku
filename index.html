<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>けんちゃんすごろく</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- シンプルなヘッダー -->
    <header>
        <h1>🎲 けんちゃんすごろく 🎲</h1>
        <!-- BGMコントロールボタン -->
        <div id="bgm-controls">
            <button id="bgm-toggle">🎵 BGM ON/OFF</button>
            <button id="music-test">🎵 音楽テスト</button>
            <span id="music-status">♪ 音楽準備中...</span>
        </div>
    </header>

    <!-- コマ絵文字選択モーダル -->
    <div id="emoji-selection-modal" class="modal">
        <div class="modal-content">
            <h2>🎨 コマの絵文字を選択してください</h2>
            <div id="emoji-selection-area">
                <div class="player-emoji-section">
                    <h3>けんちゃんのコマ</h3>
                    <div class="emoji-options" data-player="0">
                        <span class="emoji-option selected" data-emoji="🔴">🔴</span>
                        <span class="emoji-option" data-emoji="🚗">🚗</span>
                        <span class="emoji-option" data-emoji="🦖">🦖</span>
                        <span class="emoji-option" data-emoji="⚽">⚽</span>
                        <span class="emoji-option" data-emoji="🎮">🎮</span>
                        <span class="emoji-option" data-emoji="🍎">🍎</span>
                    </div>
                </div>
                <div class="player-emoji-section">
                    <h3>パパのコマ</h3>
                    <div class="emoji-options" data-player="1">
                        <span class="emoji-option selected" data-emoji="🔵">🔵</span>
                        <span class="emoji-option" data-emoji="🏢">🏢</span>
                        <span class="emoji-option" data-emoji="📱">📱</span>
                        <span class="emoji-option" data-emoji="☕">☕</span>
                        <span class="emoji-option" data-emoji="🎸">🎸</span>
                        <span class="emoji-option" data-emoji="🚀">🚀</span>
                    </div>
                </div>
                <div class="player-emoji-section">
                    <h3>ママのコマ</h3>
                    <div class="emoji-options" data-player="2">
                        <span class="emoji-option selected" data-emoji="🟡">🟡</span>
                        <span class="emoji-option" data-emoji="🌸">🌸</span>
                        <span class="emoji-option" data-emoji="👑">👑</span>
                        <span class="emoji-option" data-emoji="🎭">🎭</span>
                        <span class="emoji-option" data-emoji="🦋">🦋</span>
                        <span class="emoji-option" data-emoji="💎">💎</span>
                    </div>
                </div>
            </div>
            <button id="start-game-button">🎮 ゲームスタート！</button>
        </div>
    </div>

    <!-- PC横長画面向けメインレイアウト -->
    <main>
        <div id="game-layout">
            <!-- 左サイド：サイコロエリア -->
            <div id="left-panel">
                <div id="dice-area">
                    <div id="dice-excitement-meter">
                        <div class="excitement-bar"></div>
                        <div class="excitement-bar"></div>
                        <div class="excitement-bar"></div>
                        <div class="excitement-bar"></div>
                        <div class="excitement-bar"></div>
                    </div>
                    <div id="dice-container">
                        <div id="dice-glow"></div>
                        <div id="dice">🎲</div>
                    </div>
                    <div id="dice-anticipation">運命のサイコロ！</div>
                    <button id="roll-button">🎰 運命を決める 🎰</button>
                    <div id="keyboard-hint">💡 スペースキーでも振れます</div>
                    <div id="dice-result"></div>
                </div>
            </div>

            <!-- 中央：すごろくボード -->
            <div id="center-panel">
                <div id="board">
                    <!-- 30マスのすごろくボードをJavaScriptで動的生成 -->
                </div>
            </div>

            <!-- 右サイド：プレイヤー情報とログ -->
            <div id="right-panel">
                <!-- 現在のプレイヤー表示 -->
                <div id="current-turn-display">
                    <div id="current-player-info">
                        <span id="current-player-avatar">🔴</span>
                        <span id="current-player-name">けんちゃん</span>
                        <span>のターン</span>
                    </div>
                </div>

                <!-- プレイヤー情報 -->
                <div id="player-info">
                    <div class="player-card" id="player-kenchan">
                        <div class="player-avatar">🔴</div>
                        <div class="player-name">けんちゃん</div>
                        <div class="player-position">位置: <span>スタート</span></div>
                    </div>
                    <div class="player-card" id="player-papa">
                        <div class="player-avatar">🔵</div>
                        <div class="player-name">パパ</div>
                        <div class="player-position">位置: <span>スタート</span></div>
                    </div>
                    <div class="player-card" id="player-mama">
                        <div class="player-avatar">🟡</div>
                        <div class="player-name">ママ</div>
                        <div class="player-position">位置: <span>スタート</span></div>
                    </div>
                </div>

                <!-- イベントログ -->
                <div id="event-log">
                    <h3>📋 イベントログ</h3>
                    <div id="log-content">
                        <div class="log-entry">ゲームを開始しました！</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ゲーム終了モーダル -->
    <div id="game-end-modal" class="modal">
        <div class="modal-content">
            <h2 id="winner-message">🎉 おめでとう！ 🎉</h2>
            <button id="restart-button">もう一度遊ぶ</button>
            <button id="change-emoji-button">🎨 コマを変更</button>
        </div>
    </div>

    <!-- 画面中央に表示するアニメーション用オーバーレイ -->
    <div id="animation-overlay">
        <div id="special-effect"></div>
    </div>

    <!-- 豪華なゴール演出用オーバーレイ -->
    <div id="goal-celebration"></div>

    <!-- フィナーレ花火演出 -->
    <div id="fireworks-canvas"></div>

    <!-- BGM用Audio要素 -->
    <audio id="background-music-1" preload="metadata" volume="0.3">
        <source src="audio/music1.mp3" type="audio/mpeg">
        <source src="audio/music1.ogg" type="audio/ogg">
        お使いのブラウザは音声再生に対応していません。
    </audio>
    <audio id="background-music-2" preload="metadata" volume="0.3">
        <source src="audio/music2.mp3" type="audio/mpeg">
        <source src="audio/music2.ogg" type="audio/ogg">
        お使いのブラウザは音声再生に対応していません。
    </audio>

    <script src="script.js"></script>
</body>
</html>
