<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>けんちゃんすごろく - ドキドキ究極版</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- シンプルなヘッダー -->
    <header>
        <h1>🎲 けんちゃんすごろく - ドキドキ究極版 🎲</h1>
        <!-- BGMコントロールボタン -->
        <div id="bgm-controls">
            <button id="bgm-toggle">🎵 BGM ON/OFF</button>
            <button id="music-test">🎵 音楽テスト</button>
            <button id="sound-test">🔊 効果音テスト</button>
            <span id="music-status">♪ 音楽準備中...</span>
        </div>
    </header>

    <!-- コマ絵文字選択モーダル -->
    <div id="emoji-selection-modal" class="modal">
        <div class="modal-content">
            <h2>🎨 コマの絵文字を選択してください</h2>
            <div id="emoji-selection-area">
                <div class="player-emoji-section">
                    <h3>けんちゃんのコマ</h3>
                    <div class="emoji-options" data-player="0">
                        <span class="emoji-option selected" data-emoji="🔴">🔴</span>
                        <span class="emoji-option" data-emoji="🚗">🚗</span>
                        <span class="emoji-option" data-emoji="🦖">🦖</span>
                        <span class="emoji-option" data-emoji="⚽">⚽</span>
                        <span class="emoji-option" data-emoji="🎮">🎮</span>
                        <span class="emoji-option" data-emoji="🍎">🍎</span>
                    </div>
                </div>
                <div class="player-emoji-section">
                    <h3>パパのコマ</h3>
                    <div class="emoji-options" data-player="1">
                        <span class="emoji-option selected" data-emoji="🔵">🔵</span>
                        <span class="emoji-option" data-emoji="🏢">🏢</span>
                        <span class="emoji-option" data-emoji="📱">📱</span>
                        <span class="emoji-option" data-emoji="☕">☕</span>
                        <span class="emoji-option" data-emoji="🎸">🎸</span>
                        <span class="emoji-option" data-emoji="🚀">🚀</span>
                    </div>
                </div>
                <div class="player-emoji-section">
                    <h3>ママのコマ</h3>
                    <div class="emoji-options" data-player="2">
                        <span class="emoji-option selected" data-emoji="🟡">🟡</span>
                        <span class="emoji-option" data-emoji="🌸">🌸</span>
                        <span class="emoji-option" data-emoji="👑">👑</span>
                        <span class="emoji-option" data-emoji="🎭">🎭</span>
                        <span class="emoji-option" data-emoji="🦋">🦋</span>
                        <span class="emoji-option" data-emoji="💎">💎</span>
                    </div>
                </div>
            </div>
            <button id="start-game-button">🎮 ゲームスタート！</button>
        </div>
    </div>

    <!-- PC横長画面向けメインレイアウト -->
    <main>
        <div id="game-layout">
            <!-- 左サイド：サイコロエリア -->
            <div id="left-panel">
                <div id="dice-area">
                    <div id="dice-excitement-meter">
                        <div class="excitement-bar"></div>
                        <div class="excitement-bar"></div>
                        <div class="excitement-bar"></div>
                        <div class="excitement-bar"></div>
                        <div class="excitement-bar"></div>
                    </div>
                    <div id="dice-container">
                        <div id="dice-glow"></div>
                        <div id="dice">🎲</div>
                    </div>
                    <div id="dice-anticipation">運命のサイコロ！</div>
                    <button id="roll-button">🎰 運命を決める 🎰</button>
                    <div id="keyboard-hint">💡 スペースキーでも振れます</div>
                    <div id="dice-result"></div>
                </div>
            </div>

            <!-- 中央：すごろくボード -->
            <div id="center-panel">
                <div id="board">
                    <!-- 30マスのすごろくボードをJavaScriptで動的生成 -->
                </div>
            </div>

            <!-- 右サイド：プレイヤー情報とログ -->
            <div id="right-panel">
                <!-- 現在のプレイヤー表示 -->
                <div id="current-turn-display">
                    <div id="current-player-info">
                        <span id="current-player-avatar">🔴</span>
                        <span id="current-player-name">けんちゃん</span>
                        <span>のターン</span>
                    </div>
                </div>

                <!-- プレイヤー情報 -->
                <div id="player-info">
                    <div class="player-card" id="player-kenchan">
                        <div class="player-avatar">🔴</div>
                        <div class="player-name">けんちゃん</div>
                        <div class="player-position">位置: <span>スタート</span></div>
                    </div>
                    <div class="player-card" id="player-papa">
                        <div class="player-avatar">🔵</div>
                        <div class="player-name">パパ</div>
                        <div class="player-position">位置: <span>スタート</span></div>
                    </div>
                    <div class="player-card" id="player-mama">
                        <div class="player-avatar">🟡</div>
                        <div class="player-name">ママ</div>
                        <div class="player-position">位置: <span>スタート</span></div>
                    </div>
                </div>

                <!-- イベントログ -->
                <div id="event-log">
                    <h3>📋 イベントログ</h3>
                    <div id="log-content">
                        <div class="log-entry">ゲームを開始しました！</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ゲーム終了モーダル -->
    <div id="game-end-modal" class="modal">
        <div class="modal-content">
            <h2 id="winner-message">🎉 おめでとう！ 🎉</h2>
            <button id="restart-button">もう一度遊ぶ</button>
            <button id="change-emoji-button">🎨 コマを変更</button>
        </div>
    </div>

    <!-- 画面中央に表示するアニメーション用オーバーレイ -->
    <div id="animation-overlay">
        <div id="special-effect"></div>
    </div>

    <!-- クリティカルヒット演出用オーバーレイ -->
    <div id="critical-hit-overlay">
        <div id="critical-hit-effect">
            <div id="critical-hit-text">🎯 CRITICAL HIT! 🎯</div>
            <div id="critical-hit-subtext">完璧なサイコロ！</div>
        </div>
        <div id="critical-hit-rays"></div>
    </div>

    <!-- ミステリーボックス演出用オーバーレイ -->
    <div id="mystery-box-overlay">
        <div id="mystery-box-animation">
            <div id="mystery-box">🎁</div>
            <div id="mystery-box-text">ミステリーボックス！</div>
            <div id="mystery-box-roulette">
                <div class="roulette-item">🚀</div>
                <div class="roulette-item">😭</div>
                <div class="roulette-item">✨</div>
                <div class="roulette-item">😴</div>
                <div class="roulette-item">💨</div>
                <div class="roulette-item">🔄</div>
                <div class="roulette-item">💣</div>
                <div class="roulette-item">💰</div>
            </div>
            <div id="mystery-result-text"></div>
        </div>
    </div>

    <!-- 豪華なゴール演出用オーバーレイ -->
    <div id="goal-celebration"></div>

    <!-- フィナーレ花火演出 -->
    <div id="fireworks-canvas"></div>

    <!-- BGM用Audio要素 -->
    <audio id="background-music-1" preload="metadata" volume="0.3">
        <source src="audio/music1.mp3" type="audio/mpeg">
        <source src="audio/music1.ogg" type="audio/ogg">
        お使いのブラウザは音声再生に対応していません。
    </audio>
    <audio id="background-music-2" preload="metadata" volume="0.3">
        <source src="audio/music2.mp3" type="audio/mpeg">
        <source src="audio/music2.ogg" type="audio/ogg">
        お使いのブラウザは音声再生に対応していません。
    </audio>

    <!-- 【新機能】効果音用Audio要素 -->
    <audio id="sound-anticipation" preload="auto" volume="0.5">
        <source src="audio/effects/anticipation.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-critical-hit" preload="auto" volume="0.7">
        <source src="audio/effects/critical-hit.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-high-roll" preload="auto" volume="0.6">
        <source src="audio/effects/high-roll.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-low-roll" preload="auto" volume="0.5">
        <source src="audio/effects/low-roll.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-normal-roll" preload="auto" volume="0.5">
        <source src="audio/effects/normal-roll.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-double-bonus" preload="auto" volume="0.6">
        <source src="audio/effects/double-bonus.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-move" preload="auto" volume="0.4">
        <source src="audio/effects/move.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-skip" preload="auto" volume="0.5">
        <source src="audio/effects/skip.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-win" preload="auto" volume="0.8">
        <source src="audio/effects/win.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-firework" preload="auto" volume="0.6">
        <source src="audio/effects/firework.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-mystery-box" preload="auto" volume="0.6">
        <source src="audio/effects/mystery-box.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-rocket" preload="auto" volume="0.6">
        <source src="audio/effects/rocket.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-sad" preload="auto" volume="0.5">
        <source src="audio/effects/sad.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-lucky" preload="auto" volume="0.6">
        <source src="audio/effects/lucky.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-sleep" preload="auto" volume="0.5">
        <source src="audio/effects/sleep.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-wind" preload="auto" volume="0.5">
        <source src="audio/effects/wind.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-swap" preload="auto" volume="0.5">
        <source src="audio/effects/swap.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-bomb" preload="auto" volume="0.7">
        <source src="audio/effects/bomb.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-money" preload="auto" volume="0.6">
        <source src="audio/effects/money.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-blackhole" preload="auto" volume="0.6">
        <source src="audio/effects/blackhole.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-storm" preload="auto" volume="0.6">
        <source src="audio/effects/storm.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-fortune" preload="auto" volume="0.6">
        <source src="audio/effects/fortune.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-tragedy" preload="auto" volume="0.6">
        <source src="audio/effects/tragedy.mp3" type="audio/mpeg">
    </audio>

    <script src="script.js"></script>
</body>
</html>
